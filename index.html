<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drackett Tower Floor 3 - OSU</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="stylesheet.css">
    <script src="script.js"></script>
    <script src="chatbot.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        :root {
            --osu-red: #e21836;
            --glass-bg: rgba(255,255,255,0.85);
            --text-primary: #222;
            --text-secondary: #555;
            --border-radius: 18px;
            --shadow-soft: 0 4px 24px rgba(0,0,0,0.10);
        }
        body.dark-mode {
            --glass-bg: rgba(34,34,34,0.92);
            --text-primary: #f1f5f9;
            --text-secondary: #bdbdbd;
            background: #18181b;
        }
        body.dark-mode header,
        body.dark-mode main,
        body.dark-mode footer {
            background: var(--glass-bg);
            color: var(--text-primary);
        }
        body.dark-mode .content-section,
        body.dark-mode .newsletter-item,
        body.dark-mode .event-card,
        body.dark-mode .ra-card,
        body.dark-mode .chatbox-imessage {
            background: rgba(34,34,34,0.98);
            color: var(--text-primary);
            box-shadow: 0 4px 24px rgba(0,0,0,0.25);
        }
        body.dark-mode .chatbox-header {
            background: var(--osu-red);
            color: #fff;
        }
        body.dark-mode .chat-message.bot {
            background: #222;
            color: #f1f5f9;
        }
        body.dark-mode .chat-message.user {
            background: #E31837;
            color: #fff;
        }
        body.dark-mode .chatbox-input-row {
            background: #222;
        }
        body.dark-mode .chatbox-send-btn {
            background: var(--osu-red);
            color: #fff;
        }
        body.dark-mode .chatbox-send-btn:hover {
            background: #b71c1c;
        }
        body.dark-mode .osu-logo {
            background: #222 !important;
        }
    </style>
</head>
<body>
    <!-- No loading screen -->

    <header>
        <div class="container">
            <div class="header-content">
                <!-- Dark mode toggle button -->
                <button id="darkModeToggle" style="position:absolute; top:24px; right:24px; background:#222; color:#fff; border:none; border-radius:8px; padding:8px 16px; font-weight:600; cursor:pointer; z-index:100;">
                    üåô Dark Mode
                </button>
                <div class="logo-section">
                    <img src="images/BlockO.png" alt="OSU Logo" class="osu-logo" style="width: 120px; height: 120px; border-radius: 12px; display: flex; align-items: center; justify-content: center; object-fit: contain;">
                    <div class="header-text">
                        <h1>Drackett Tower - Floor 3</h1>
                        <p>Your Home Away From Home</p>
                    </div>
                </div>
                
                <!-- CSS-only Hamburger Menu -->
                <nav>
                    <input type="checkbox" id="check">
                    <label for="check" class="checkbtn">
                        <div class="hamburger-lines">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </label>
                    <!-- Overlay to close menu when clicked -->
                    <label for="check" class="menu-overlay"></label>
                    <div class="nav-mobile">
                        <a href="#home" class="nav-item">Home</a>
                        <a href="#ra-contact" class="nav-item">Your RAs</a>
                        <a href="#osu-links" class="nav-item">OSU Resources</a>
                        <a href="#study-room-scheduler" class="nav-item">Study Room Scheduling</a>
                        <a href="#chatbot" class="nav-item">RA Assistant</a>
                        <a href="#newsletters" class="nav-item">Newsletters</a>
                        <a href="#events" class="nav-item">Events & Deadlines</a>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <!-- Upcoming Events Sidebar (moved to left side, made narrower) -->
    <div id="events-sidebar" style="
        position: fixed;
        top: 140px;
        left: 12px;
        width: 160px;
        background: var(--glass-bg);
        border-radius: 14px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.10);
        z-index: 99;
        padding: 14px 10px 10px 10px;
        font-family: 'Outfit', Arial, sans-serif;
        color: var(--text-primary);
        transition: background 0.2s;
        opacity: 0.96;
        display: none;
    ">
        <h4 style="margin-bottom: 10px; font-size: 1rem; color: var(--osu-red); font-weight: 600; text-align:center;">Upcoming Events</h4>
        <ul id="sidebar-events-list" style="list-style: none; padding: 0; margin: 0;">
            <!-- Dynamic events will be injected here -->
        </ul>
    </div>

    <main class="container">
        <!-- Banner Image -->
        <div style="width:100%; max-width:100vw; margin:0 auto; position:relative;">
            <img src="images/OSU_campus_banner.jpg" alt="Drackett Tower Banner" style="width:100%; max-height:260px; object-fit:cover; border-radius:18px; box-shadow:0 4px 24px rgba(0,0,0,0.10); display:block;">
            <!-- Optional: Overlay text on banner
            <div style="position:absolute; left:0; top:0; width:100%; height:100%; display:flex; align-items:center; justify-content:center; color:#fff; font-size:2rem; font-weight:700; text-shadow:0 2px 12px rgba(0,0,0,0.25);">
                Welcome to Drackett Tower Floor 3!
            </div>
            -->
        </div>
        <!-- Home Section -->
        <section id="home" class="content-section">
            <h2 class="section-title">Welcome to Drackett Tower Floor 3!</h2>
            <p style="font-size: 1.1rem; margin-bottom: 24px; color: var(--text-secondary); line-height: 1.7;">
                Welcome to your home on the third floor of Drackett Tower! This website is your one-stop resource for everything you need to know about living on our floor. Here you'll find important information, upcoming events, helpful resources, and ways to connect with your Resident Assistants.
            </p>
            
            <div style="background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid rgba(187, 0, 0, 0.2); padding: 32px; border-radius: var(--border-radius); margin: 24px 0; box-shadow: var(--shadow-soft);">
                <h3 style="margin-bottom: 20px; color: var(--osu-red); font-weight: 600;">üè† Floor 3 Quick Facts</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px;">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <span style="font-size: 1.5rem;">üë•</span>
                        <div>
                            <strong style="color: var(--text-primary);">Residents:</strong>
                            <br><span style="color: var(--text-secondary);">Approx. 70 residents</span>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <span style="font-size: 1.5rem;">üõèÔ∏è</span>
                        <div>
                            <strong style="color: var(--text-primary);">Room Types:</strong>
                            <br><span style="color: var(--text-secondary);">All quads with one triple</span>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <span style="font-size: 1.5rem;">üìö</span>
                        <div>
                            <strong style="color: var(--text-primary);">Study Spaces:</strong>
                            <br><span style="color: var(--text-secondary);">Closest are 1st floor common area or 5th floor lounge</span>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <span style="font-size: 1.5rem;">üìç</span>
                        <div>
                            <strong style="color: var(--text-primary);">Location:</strong>
                            <br><span style="color: var(--text-secondary);">Drackett Tower, 191 W Lane Avenue, Columbus OH 43210</span>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <span style="font-size: 1.5rem;">üéì</span>
                        <div>
                            <strong style="color: var(--text-primary);">University:</strong>
                            <br><span style="color: var(--text-secondary);">The Ohio State University</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <p style="margin-top: 24px; color: var(--text-secondary); line-height: 1.7;">
                Use the navigation above to explore different sections of our floor website. Don't hesitate to reach out to your RAs if you have any questions or need assistance!
            </p>
        </section>

        <!-- RA Contact Section -->
        <section id="ra-contact" class="content-section">
            <h2 class="section-title">Meet Your RAs</h2>
            <p style="margin-bottom: 24px; color: var(--text-secondary); line-height: 1.7;">Your Resident Assistants are here to support you throughout your time at OSU. Feel free to reach out anytime!</p>
            
            <div class="ra-cards">
                <div class="ra-card">
                    <img src="images/jadyn_baby.jpg" alt="Jadyn Paige" class="ra-avatar"
                        style="width:140px; height:140px; border-radius:50%; object-fit:cover; margin-bottom:16px; box-shadow:0 2px 12px rgba(0,0,0,0.10);">
                    <h3>Jadyn Paige</h3>
                    <div class="ra-info-list" style="margin-bottom: 16px; color: var(--text-secondary); line-height: 1.7;">
                        <p><strong>Hometown:</strong> Heath, OH</p>
                        <p><strong>Major:</strong> Psychology (B.S)</p>
                        <p><strong>Minors:</strong> Neuroscience, Philosophy, and Human Development & Family Science</p>
                        <p><strong>Why I wanted to be an RA:</strong> I am really passionate about guiding others to live a life they are happy with and what better place to do that than in the dorms with students at this pivotal transition period in their lives!</p>
                        <p><strong>Favorite Movie:</strong> Interstellar</p>
                        <p><strong>Interesting Fact:</strong> I have a betta fish named Tars</p>
                    </div>
                    <div class="contact-info">
                        <p><span>üìß</span> paige.97@osu.edu</p>
                        <p><span>üö™</span> Room 326</p>
                    </div>
                </div>
                
                <div class="ra-card">
                    <img src="images/wyatt_baby.jpg" alt="Wyatt Black" class="ra-avatar"
                        style="width:140px; height:140px; border-radius:50%; object-fit:cover; margin-bottom:16px; box-shadow:0 2px 12px rgba(0,0,0,0.10);">
                    <h3>Wyatt Black</h3>
                    <div class="ra-info-list" style="margin-bottom: 16px; color: var(--text-secondary); line-height: 1.7;">
                        <p><strong>Hometown:</strong> Cleveland, OH</p>
                        <p><strong>Major:</strong> Computer Science - Machine Learning Track</p>
                        <p><strong>Why I wanted to be an RA:</strong> I enjoy helping others and being a resource for my peers.</p>
                        <p><strong>Favorite Movie:</strong> Lilo and Stitch</p>
                        <p><strong>Interesting Fact:</strong> I was also a freshman in drackett, this is now my 3rd year here!</p>
                    </div>
                    <div class="contact-info">
                        <p><span>üìß</span> black.1172@osu.edu</p>
                        <p><span>üö™</span> Room 318</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Study Room Scheduling Section (now immediately after RA Contact) -->
<section id="study-room-scheduler" class="content-section" style="margin-top: 48px;">
    <h2 class="section-title" style="color: var(--osu-red); text-align: left;">Study Room Scheduling</h2>
    <div id="calendar-container" style="max-width: 700px; margin: 0 auto;">
        <!-- Calendar will be rendered here -->
    </div>
    <div id="daily-reservations" style="max-width: 700px; margin: 32px auto 0 auto;">
        <ul id="reservations-list" style="list-style: none; padding: 0; margin: 0; text-align: center;">
            <!-- Reservations will be rendered here -->
        </ul>
    </div>
</section>

<!-- Chatbot Section (now right after Study Room Scheduling) -->
<section id="chatBot" class="content-section">
    <h2 class="section-title">RA Assistant Chatbot</h2>
    <div class="chatbox-imessage">
        <div class="chatbox-header">
            <span class="chatbox-title">üí¨ Ask the RA Assistant</span>
        </div>
        <div id="chat-messages" class="chatbox-messages"></div>
        <form class="chatbox-input-row" onsubmit="return false;">
            <input id="chat-input" type="text" placeholder="Type your message..." autocomplete="off" />
            <button id="chat-send" class="chatbox-send-btn">Send</button>
        </form>
    </div>
    <p style="font-size: 0.95rem; color: #b71c1c; margin-top: 14px; text-align: center;">
        <strong>Disclaimer:</strong> Chatbot advice may be inaccurate or incomplete. Always consult a Resident Assistant before making medical, safety, or other major decisions.
    </p>
</section>

        <!-- OSU Links Section -->
        <section id="osu-links" class="content-section">
            <h2 class="section-title">OSU Resources</h2>
            <p style="margin-bottom: 24px; color: var(--text-secondary); line-height: 1.7;">Quick access to important Ohio State University resources and services.</p>
            
            <div class="osu-links">
                <a href="https://buckeyelink.osu.edu" class="link-card" target="_blank">
                    <span class="link-icon">üîó</span>
                    <h3>BuckeyeLink</h3>
                    <p>Student Information System</p>
                </a>
                
                <a href="https://library.osu.edu" class="link-card" target="_blank">
                    <span class="link-icon">üìñ</span>
                    <h3>OSU Libraries</h3>
                    <p>Research & Study Resources</p>
                </a>
                
                <a href="https://dining.osu.edu" class="link-card" target="_blank">
                    <span class="link-icon">üçΩÔ∏è</span>
                    <h3>Dining Services</h3>
                    <p>Meal Plans & Locations</p>
                </a>
                
                <a href="https://ccs.osu.edu/" class="link-card" target="_blank">
                    <span class="link-icon">üíô</span>
                    <h3>CCS</h3>
                    <p>Counseling & Consultation Services</p>
                </a>
                
                <a href="https://slds.osu.edu" class="link-card" target="_blank">
                    <span class="link-icon">‚ôø</span>
                    <h3>SLDS</h3>
                    <p>Student Life Disability Services</p>
                </a>
                
                <a href="https://shs.osu.edu/" class="link-card" target="_blank">
                    <span class="link-icon">üè•</span>
                    <h3>Student Health</h3>
                    <p>Wilce Student Health Center</p>
                </a>
                
                <a href="https://housing.osu.edu" class="link-card" target="_blank">
                    <span class="link-icon">üè†</span>
                    <h3>Housing</h3>
                    <p>University Housing</p>
                </a>
            </div>
        </section>

        <!-- Newsletters Section -->
        <section id="newsletters" class="content-section">
            <h2 class="section-title">Floor Newsletters</h2>
            <p style="margin-bottom: 24px; color: var(--text-secondary); line-height: 1.7;">
        Stay updated with our monthly newsletters featuring floor news, upcoming events, and important announcements.
    </p>
    <div class="newsletter-grid">
        <div class="newsletter-item">
            <div class="pdf-icon">üçÇ</div>
            <h3 style="font-weight: 600; margin-bottom: 12px;">September 2025 Newsletter</h3>
            <p style="color: var(--text-secondary);">Coming soon!</p>
            <button class="download-btn" disabled>Coming Soon</button>
        </div>
        <div class="newsletter-item">
            <div class="pdf-icon">üéÉ</div>
            <h3 style="font-weight: 600; margin-bottom: 12px;">October 2025 Newsletter</h3>
            <p style="color: var(--text-secondary);">Coming soon!</p>
            <button class="download-btn" disabled>Coming Soon</button>
        </div>
        <div class="newsletter-item">
            <div class="pdf-icon">ü¶É</div>
            <h3 style="font-weight: 600; margin-bottom: 12px;">November 2025 Newsletter</h3>
            <p style="color: var(--text-secondary);">Coming soon!</p>
            <button class="download-btn" disabled>Coming Soon</button>
        </div>
        <div class="newsletter-item">
            <div class="pdf-icon">‚ùÑÔ∏è</div>
            <h3 style="font-weight: 600; margin-bottom: 12px;">December 2025 Newsletter</h3>
            <p style="color: var(--text-secondary);">Coming soon!</p>
            <button class="download-btn" disabled>Coming Soon</button>
        </div>
    </div>
        </section>

        <!-- Events & Deadlines Section -->
        <section id="events" class="content-section">
            <h2 class="section-title">Upcoming Events & Deadlines</h2>
            <p style="margin-bottom: 24px; color: var(--text-secondary); line-height: 1.7;">Stay on top of important dates, floor events, and university deadlines.</p>
            
            <div class="events-grid">
                <div class="event-card" id="event-aug24">
                    <div class="event-date">Aug 24, 2025</div>
                    <div class="event-title">First Floor Meeting</div>
                    <p style="color: var(--text-secondary); margin-bottom: 16px;">Kick off the year with your first floor meeting! Meet your RAs and fellow residents, and learn about floor policies!</p>
                    <p style="color: var(--text-primary);"><strong>Time:</strong> 8:00 PM</p>
                    <p style="color: var(--text-primary);"><strong>Location:</strong> Pennant Room, First Floor</p>
                </div>
                <div class="event-card" id="event-sep">
                    <div class="event-date">Sep 2025</div>
                    <div class="event-title">Monthly Event (Coming Soon)</div>
                    <p style="color: var(--text-secondary); margin-bottom: 16px;">Details for September's event will be announced soon!</p>
                    <p style="color: var(--text-primary);"><strong>Time:</strong> TBA</p>
                    <p style="color: var(--text-primary);"><strong>Location:</strong> TBA</p>
                </div>
                <div class="event-card" id="event-oct">
                    <div class="event-date">Oct 2025</div>
                    <div class="event-title">Monthly Event (Coming Soon)</div>
                    <p style="color: var(--text-secondary); margin-bottom: 16px;">Details for October's event will be announced soon!</p>
                    <p style="color: var(--text-primary);"><strong>Time:</strong> TBA</p>
                    <p style="color: var(--text-primary);"><strong>Location:</strong> TBA</p>
                </div>
                <div class="event-card">
                    <div class="event-date">Nov 2025</div>
                    <div class="event-title">Monthly Event (Coming Soon)</div>
                    <p style="color: var(--text-secondary); margin-bottom: 16px;">Details for November's event will be announced soon!</p>
                    <p style="color: var(--text-primary);"><strong>Time:</strong> TBA</p>
                    <p style="color: var(--text-primary);"><strong>Location:</strong> TBA</p>
                </div>
                <div class="event-card">
                    <div class="event-date">Dec 2025</div>
                    <div class="event-title">Monthly Event (Coming Soon)</div>
                    <p style="color: var(--text-secondary); margin-bottom: 16px;">Details for December's event will be announced soon!</p>
                    <p style="color: var(--text-primary);"><strong>Time:</strong> TBA</p>
                    <p style="color: var(--text-primary);"><strong>Location:</strong> TBA</p>
                </div>
            </div>
        </section>

        <!-- Centered employer-links section -->
<section id="employer-links" class="content-section" style="margin-top: 48px;">
    <h2 class="section-title" style="color: var(--osu-red); text-align: left;">For Employers & Reviewers</h2>
    <p style="color: var(--text-secondary); margin-bottom: 18px; text-align: left;">
        Explore my related projects and source code on GitHub:
    </p>
    <div style="display: flex; gap: 24px; flex-wrap: wrap; justify-content: center;">
        <a href="https://github.com/black1172/drackett_floor3.github.io" target="_blank" class="link-card" style="min-width:220px; text-align: center;">
            <span class="link-icon" style="font-size: 2rem; display: block; margin-bottom: 8px;">üíª</span>
            <h3 style="margin-bottom: 6px;">Drackett Floor 3 RA Chatbot (Frontend & Backend)</h3>
            <p>Full-stack source code for the RA assistant and website</p>
        </a>
        <a href="https://github.com/black1172/Data_Chunker_Python" target="_blank" class="link-card" style="min-width:220px; text-align: center;">
            <span class="link-icon" style="font-size: 2rem; display: block; margin-bottom: 8px;">üóÇÔ∏è</span>
            <h3 style="margin-bottom: 6px;">OSU Data Chunker</h3>
            <p>Resource chunk extraction and tagging utility</p>
        </a>
    </div>
    <p style="font-size: 0.95rem; color: #b71c1c; margin-top: 14px; text-align: center;">
        <strong>Note:</strong> These repositories showcase my work in web development, backend engineering, and AI integration for student support.
    </p>
</section>

    </main>

    <!-- Add this section where you want the bug submission form to appear, e.g. above the footer in index.html -->

<section id="bug-report" class="content-section" style="margin-top:48px; max-width:600px; margin-left:auto; margin-right:auto;">
    <h2 class="section-title" style="color:var(--osu-red); text-align:left;">Report a Bug</h2>
    <form id="bugForm" style="background:var(--glass-bg); padding:24px; border-radius:var(--border-radius); box-shadow:var(--shadow-soft);">
        <label for="bug-description" style="font-weight:600; color:var(--text-primary);">Describe the issue:</label>
        <textarea id="bug-description" name="bug-description" rows="5" required style="width:100%; margin-bottom:16px; border-radius:8px; border:1px solid #ccc; padding:12px; font-size:1rem;"></textarea>
        <label for="bug-email" style="font-weight:600; color:var(--text-primary);">Your email (optional):</label>
        <input type="email" id="bug-email" name="bug-email" style="width:100%; margin-bottom:16px; border-radius:8px; border:1px solid #ccc; padding:12px; font-size:1rem;">
        <button type="submit" style="background:var(--osu-red); color:#fff; border:none; border-radius:8px; padding:10px 24px; font-weight:600; font-size:1.1rem; cursor:pointer;">Submit Bug</button>
        <div id="bugFormMsg" style="margin-top:12px; color:#b71c1c;"></div>
    </form>
</section>

<div style="max-width:320px; margin:24px auto; background:#fff3f3; border:1px solid #e21836; border-radius:12px; box-shadow:0 2px 8px rgba(226,24,54,0.07); padding:18px 20px; text-align:center;">
    <div style="font-weight:700; color:#e21836; font-size:1.1rem; margin-bottom:8px;">
        See something wrong?
    </div>
    <div style="color:#b71c1c; font-size:0.97rem; margin-bottom:12px;">
        Help me improve! If you spot a bug or error, let me know.
    </div>
    <a href="#bug-report" style="display:inline-block; background:#e21836; color:#fff; font-weight:600; border-radius:8px; padding:8px 20px; text-decoration:none; box-shadow:0 1px 4px rgba(226,24,54,0.08);">
        Report a Bug
    </a>
</div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <p style="margin-bottom: 8px;">&copy; 2025 Drackett Tower Floor 3 | The Ohio State University</p>
                <p style="color: var(--text-secondary);">For emergencies, contact OSU Public Safety: (614) 292-2121</p>
            </div>
        </div>
    </footer>
    <script>
        // Dark mode toggle logic
        const darkModeBtn = document.getElementById('darkModeToggle');
        darkModeBtn.addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            darkModeBtn.textContent = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
        });
        // Optionally, remember user preference
        if (localStorage.getItem('dark-mode') === 'enabled') {
            document.body.classList.add('dark-mode');
            darkModeBtn.textContent = '‚òÄÔ∏è Light Mode';
        }
        darkModeBtn.addEventListener('click', function() {
            if (document.body.classList.contains('dark-mode')) {
                localStorage.setItem('dark-mode', 'enabled');
            } else {
                localStorage.setItem('dark-mode', 'disabled');
            }
        });

        // Event data for sidebar (keep in sync with event cards)
        const eventsData = [
            {
                id: "event-aug24",
                date: "2025-08-24T20:00:00",
                label: "Aug 24",
                title: "First Floor Meeting"
            },
            {
                id: "event-sep",
                date: "2025-09-15T19:00:00",
                label: "Sep",
                title: "Monthly Event"
            },
            {
                id: "event-oct",
                date: "2025-10-15T19:00:00",
                label: "Oct",
                title: "Monthly Event"
            },
            {
                id: "event-nov",
                date: "2025-11-15T19:00:00",
                label: "Nov",
                title: "Monthly Event"
            },
            {
                id: "event-dec",
                date: "2025-12-15T19:00:00",
                label: "Dec",
                title: "Monthly Event"
            }
        ];

        // Show sidebar only on desktop
        function showEventsSidebar() {
            const sidebar = document.getElementById('events-sidebar');
            if (window.innerWidth > 900) {
                sidebar.style.display = 'block';
            } else {
                sidebar.style.display = 'none';
            }
        }
        window.addEventListener('resize', showEventsSidebar);
        window.addEventListener('DOMContentLoaded', showEventsSidebar);

        // Dynamic sidebar event rendering
        function updateSidebarEvents() {
            const now = new Date();
            // Filter for events in the future
            const upcoming = eventsData
                .filter(ev => new Date(ev.date) > now)
                .sort((a, b) => new Date(a.date) - new Date(b.date))
                .slice(0, 3);

            const sidebarList = document.getElementById('sidebar-events-list');
            sidebarList.innerHTML = "";

            upcoming.forEach(ev => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <a href="#${ev.id}" style="text-decoration: none; color: var(--text-primary); display: block; padding: 6px 0; border-radius: 6px; transition: background 0.15s;">
                        <span style="font-weight: 600;">${ev.label}:</span> ${ev.title}
                    </a>
                `;
                sidebarList.appendChild(li);
            });

            // Smooth scroll for sidebar links
            sidebarList.querySelectorAll('a').forEach(function(link) {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').replace('#', '');
                    const target = document.getElementById(targetId);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                });
            });
        }

        window.addEventListener('DOMContentLoaded', updateSidebarEvents);
        window.addEventListener('resize', updateSidebarEvents);
        // Optionally, update every minute in case user leaves page open
        setInterval(updateSidebarEvents, 60000);
    </script>
</body>
</html>